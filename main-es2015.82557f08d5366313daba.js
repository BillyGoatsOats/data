(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{0:function(t,n,e){t.exports=e("2v48")},"2v48":function(t,n,e){"use strict";e.r(n);var r=e("8Y7J");class l{}var u=e("e1JD");class o{constructor(t){this.store=t,this.snapshot=this.store.select(t=>t)}ngOnInit(){console.log("[isDevMode]",Object(r.Y)())}}var a=e("pMnS"),i=e("SVse"),s=e("iInd"),c=r.sb({encapsulation:2,styles:[],data:{}});function d(t){return r.Nb(2,[(t()(),r.ub(0,0,null,null,14,"div",[["class","panel"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.ub(2,0,null,null,0,"img",[["class","logo"],["src","https://habrastorage.org/webt/k7/ih/pc/k7ihpcg6w-jz-rzksmiyuip5_so.png"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n\n    "])),(t()(),r.ub(4,0,null,null,9,"div",[["class","panel-content"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n        "])),(t()(),r.ub(6,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["Store:"])),(t()(),r.Lb(-1,null,["\n        "])),(t()(),r.ub(9,0,null,null,3,"pre",[],null,null,null,null,null)),(t()(),r.Lb(10,null,["",""])),r.Hb(131072,i.b,[r.i]),r.Hb(0,i.f,[]),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.Lb(-1,null,["\n"])),(t()(),r.Lb(-1,null,["\n\n"])),(t()(),r.ub(16,0,null,null,56,"div",[["class","menu"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.ub(18,0,null,null,18,"div",[["class","menu-top"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n        "])),(t()(),r.ub(20,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n            \u{1f9fe}\n            "])),(t()(),r.ub(22,0,null,null,1,"a",[["class","link"],["href","https://github.com/ngxs-labs/data/tree/master/docs"],["target","_blank"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n                Official documentation\n            "])),(t()(),r.Lb(-1,null,["\n        "])),(t()(),r.Lb(-1,null,["\n        "])),(t()(),r.ub(26,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n            \u{1f680} "])),(t()(),r.ub(28,0,null,null,1,"a",[["class","link"],["href","https://stackblitz.io/github/ngxs-labs/data"],["target","_blank"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["Stackblitz"])),(t()(),r.Lb(-1,null,["\n        "])),(t()(),r.Lb(-1,null,["\n        "])),(t()(),r.ub(32,0,null,null,3,"span",[["class","ng-icon"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n            "])),(t()(),r.ub(34,0,null,null,0,"img",[["class","img"],["src","https://cdn.worldvectorlogo.com/logos/angular-icon-1.svg"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n            Angular 8+, NGXS 3.6.2+\n        "])),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.Lb(-1,null,["\n\n    "])),(t()(),r.ub(38,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\u{1f3c0} "])),(t()(),r.ub(40,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Fb(t,41).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.tb(41,671744,null,0,s.l,[s.k,s.a,i.i],{routerLink:[0,"routerLink"]},null),r.Gb(42,1),(t()(),r.Lb(-1,null,["CountState"])),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.ub(45,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\u{1f9ed} "])),(t()(),r.ub(47,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Fb(t,48).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.tb(48,671744,null,0,s.l,[s.k,s.a,i.i],{routerLink:[0,"routerLink"]},null),r.Gb(49,1),(t()(),r.Lb(-1,null,["TodoState"])),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.ub(52,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\u{1f60b} "])),(t()(),r.ub(54,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Fb(t,55).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.tb(55,671744,null,0,s.l,[s.k,s.a,i.i],{routerLink:[0,"routerLink"]},null),r.Gb(56,1),(t()(),r.Lb(-1,null,["PersonState"])),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.ub(59,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\u{1f4b0} "])),(t()(),r.ub(61,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Fb(t,62).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.tb(62,671744,null,0,s.l,[s.k,s.a,i.i],{routerLink:[0,"routerLink"]},null),r.Gb(63,1),(t()(),r.Lb(-1,null,["AmountState"])),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.ub(66,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\u{1f4cb} "])),(t()(),r.ub(68,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Fb(t,69).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.tb(69,671744,null,0,s.l,[s.k,s.a,i.i],{routerLink:[0,"routerLink"]},null),r.Gb(70,1),(t()(),r.Lb(-1,null,["ArticleEntitiesState"])),(t()(),r.Lb(-1,null,["\n"])),(t()(),r.Lb(-1,null,["\n\n"])),(t()(),r.ub(74,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n\n"])),(t()(),r.ub(76,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,["\n    "])),(t()(),r.ub(78,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),r.ub(79,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.tb(80,212992,null,0,s.n,[s.b,r.P,r.k,[8,null],r.i],null,null),(t()(),r.Lb(-1,null,["\n"])),(t()(),r.Lb(-1,null,["\n"]))],(function(t,n){var e=t(n,42,0,"count");t(n,41,0,e);var r=t(n,49,0,"todo");t(n,48,0,r);var l=t(n,56,0,"person");t(n,55,0,l);var u=t(n,63,0,"amount");t(n,62,0,u);var o=t(n,70,0,"article");t(n,69,0,o),t(n,80,0)}),(function(t,n){var e=n.component;t(n,10,0,r.Mb(n,10,0,r.Fb(n,12).transform(r.Mb(n,10,0,r.Fb(n,11).transform(e.snapshot))))),t(n,40,0,r.Fb(n,41).target,r.Fb(n,41).href),t(n,47,0,r.Fb(n,48).target,r.Fb(n,48).href),t(n,54,0,r.Fb(n,55).target,r.Fb(n,55).href),t(n,61,0,r.Fb(n,62).target,r.Fb(n,62).href),t(n,68,0,r.Fb(n,69).target,r.Fb(n,69).href)}))}function b(t){return r.Nb(0,[(t()(),r.ub(0,0,null,null,1,"app-root",[],null,null,null,d,c)),r.tb(1,114688,null,0,o,[u.i],null,null)],(function(t,n){t(n,1,0)}),null)}var f=r.qb("app-root",o,b,{},{},[]),p=e("cUpR"),g=e("fDlF"),h=e("omvX"),v=e("s7LF"),y=e("Mrqg"),D=e("GS7A"),S=e("PiU/"),m=e("zqRF"),E=e("5Q4k");const N=()=>Promise.all([e.e(0),e.e(11)]).then(e.bind(null,"5VnZ")).then(t=>t.CountModuleNgFactory),O=()=>Promise.all([e.e(0),e.e(2),e.e(13)]).then(e.bind(null,"Mgl+")).then(t=>t.TodoModuleNgFactory),A=()=>Promise.all([e.e(0),e.e(3),e.e(12)]).then(e.bind(null,"xala")).then(t=>t.PersonModuleNgFactory),_=()=>Promise.all([e.e(0),e.e(10)]).then(e.bind(null,"0Wjt")).then(t=>t.AmountModuleNgFactory),T=()=>Promise.all([e.e(0),e.e(2),e.e(3),e.e(9)]).then(e.bind(null,"lAMg")).then(t=>t.ArticleModuleNgFactory);class w{}var I=e("ZArt"),k=e("F7qv"),x=e("oSDt"),C=e("q6Pm"),L=e("NZHw");class M{constructor(t,n){this.accessor=t,this.injector=n}static forRoot(t=[]){return{ngModule:M,providers:[L.b,L.c,L.d,...t]}}}var j=e("lLvT"),P=r.rb(l,[o],(function(t){return r.Cb([r.Db(512,r.k,r.cb,[[8,[a.a,f]],[3,r.k],r.x]),r.Db(5120,r.u,r.ob,[[3,r.u]]),r.Db(4608,i.m,i.l,[r.u,[2,i.v]]),r.Db(5120,r.kb,r.pb,[r.z]),r.Db(5120,r.c,r.lb,[]),r.Db(5120,r.s,r.mb,[]),r.Db(5120,r.t,r.nb,[]),r.Db(4608,p.b,p.k,[i.d]),r.Db(6144,r.H,null,[p.b]),r.Db(4608,p.e,p.g,[]),r.Db(5120,p.c,(function(t,n,e,r,l,u,o,a){return[new p.i(t,n,e),new p.n(r),new p.m(l,u,o,a)]}),[i.d,r.z,r.B,i.d,i.d,p.e,r.db,[2,p.f]]),r.Db(4608,p.d,p.d,[p.c,r.z]),r.Db(135680,p.l,p.l,[i.d]),r.Db(4608,p.j,p.j,[p.d,p.l,r.c]),r.Db(5120,g.a,h.e,[]),r.Db(5120,g.c,h.f,[]),r.Db(4608,g.b,h.d,[i.d,g.a,g.c]),r.Db(5120,r.F,h.g,[p.j,g.b,r.z]),r.Db(6144,p.o,null,[p.l]),r.Db(4608,r.N,r.N,[r.z]),r.Db(4608,v.q,v.q,[]),r.Db(5120,s.a,s.x,[s.k]),r.Db(4608,s.d,s.d,[]),r.Db(6144,s.f,null,[s.d]),r.Db(135680,s.o,s.o,[s.k,r.w,r.j,r.r,s.f]),r.Db(4608,s.e,s.e,[]),r.Db(5120,s.C,s.t,[s.k,i.r,s.g]),r.Db(5120,s.h,s.A,[s.y]),r.Db(5120,r.b,(function(t,n){return[t,u.d.appBootstrapListenerFactory(n)]}),[s.h,y.e]),r.Db(4608,D.b,h.c,[r.F,i.d]),r.Db(4608,v.d,v.d,[]),r.Db(4608,u.a,u.a,[u.o,u.E]),r.Db(135680,S.a,S.a,[[2,u.i]]),r.Db(5120,m.a,E.b,[]),r.Db(1073742336,i.c,i.c,[]),r.Db(1024,r.m,p.p,[]),r.Db(1024,r.y,(function(){return[s.s()]}),[]),r.Db(512,s.y,s.y,[r.r]),r.Db(1024,r.d,(function(t,n){return[p.q(t),s.z(n)]}),[[2,r.y],s.y]),r.Db(512,r.e,r.e,[[2,r.d]]),r.Db(131584,r.g,r.g,[r.z,r.db,r.r,r.m,r.k,r.e]),r.Db(1073742336,r.f,r.f,[r.g]),r.Db(1073742336,p.a,p.a,[[3,p.a]]),r.Db(1073742336,v.p,v.p,[]),r.Db(1073742336,v.g,v.g,[]),r.Db(1024,s.r,s.v,[[3,s.k]]),r.Db(512,s.q,s.c,[]),r.Db(512,s.b,s.b,[]),r.Db(256,s.g,{useHash:!0},[]),r.Db(1024,i.i,s.u,[i.q,[2,i.a],s.g]),r.Db(512,i.h,i.h,[i.i,i.q]),r.Db(512,r.j,r.j,[]),r.Db(512,r.w,r.K,[r.j,[2,r.L]]),r.Db(1024,s.i,(function(){return[[{path:"",redirectTo:"count",pathMatch:"full"},{path:"count",loadChildren:N},{path:"todo",loadChildren:O},{path:"person",loadChildren:A},{path:"amount",loadChildren:_},{path:"article",loadChildren:T}]]}),[]),r.Db(1024,s.k,s.w,[r.g,s.q,s.b,i.h,r.r,r.w,r.j,s.i,s.g,[2,s.p],[2,s.j]]),r.Db(1073742336,s.m,s.m,[[2,s.r],[2,s.k]]),r.Db(1073742336,w,w,[]),r.Db(1073742336,h.b,h.b,[]),r.Db(1073742336,v.n,v.n,[]),r.Db(256,u.d.ROOT_OPTIONS,{developmentMode:!1,executionStrategy:u.e},[]),r.Db(1024,u.v,u.d.ngxsConfigFactory,[u.d.ROOT_OPTIONS]),r.Db(512,u.o,u.o,[]),r.Db(512,u.z,u.z,[]),r.Db(512,u.g,u.g,[]),r.Db(256,I.d,void 0,[]),r.Db(1024,I.a,I.e,[I.d]),r.Db(1024,u.c,(function(t,n,e,r){return[new I.b(t,n),new k.a(e,r)]}),[I.a,r.r,r.B,[4,r.r]]),r.Db(512,u.D,u.D,[[3,u.D],[2,u.c]]),r.Db(512,u.w,u.e,[]),r.Db(512,u.E,u.E,[u.w]),r.Db(512,u.A,u.A,[r.m,u.o,u.z,u.D,u.g,u.E]),r.Db(256,u.u,r.Y,[]),r.Db(256,u.t,y.f,[]),r.Db(512,u.G,u.G,[u.u,u.t]),r.Db(512,u.F,u.F,[u.G,u.v]),r.Db(512,u.C,u.C,[u.g,u.A,u.v,u.F]),r.Db(512,u.B,u.B,[u.C]),r.Db(1024,y.a,u.d.getInitialState,[]),r.Db(512,u.y,u.y,[r.r,u.v,[3,u.y],u.o,u.z,u.B,[2,y.a]]),r.Db(512,u.i,u.i,[u.g,u.C,u.v,u.E,u.y,[2,y.a]]),r.Db(512,u.H,u.H,[u.i,u.v]),r.Db(256,u.r,[],[]),r.Db(512,y.e,y.e,[]),r.Db(512,u.p,u.p,[u.C,u.B,y.e]),r.Db(1073742336,u.x,u.x,[u.y,u.C,u.i,u.H,[2,u.r],u.p]),r.Db(1073742336,I.c,I.c,[]),r.Db(512,x.a,x.a,[]),r.Db(2048,y.d,null,[u.y]),r.Db(2048,y.c,null,[u.B]),r.Db(512,C.a,C.a,[r.r,y.d,y.c]),r.Db(1073742336,M,M,[[4,x.a],[4,C.a]]),r.Db(1073742336,j.a,j.a,[]),r.Db(1073742336,l,l,[]),r.Db(256,r.bb,!0,[]),r.Db(256,h.a,"BrowserAnimations",[])])}));Object(r.T)(),p.h().bootstrapModuleFactory(P).catch(t=>console.error(t))},"5Q4k":function(t,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return l}));var r=e("zqRF");const l=e("mwGw").a,u={provide:r.a,useFactory:l}},"BS/u":function(t,n){function e(t){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}))}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="BS/u"},"Ci7/":function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e("UFJs");function l(t){return t.type===r.e}},CuZ7:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e("UFJs");function l(t){return t[r.d]}},F7qv:function(t,n,e){"use strict";var r=e("SVse"),l=e("NZHw"),u=e("UFJs"),o=e("e1JD"),a=e("xgIS"),i=e("vkgz"),s=e("zqRF");function c(t){return-1!==t.ttl&&!isNaN(t.ttl)&&t.ttl>0}function d(t){return Date.now()>=t.getTime()}var b=e("l5mm");function f(t){return`${t.prefixKey}${t.path}`}function p(t,n){var e,r,u;const{provider:o,expiry:a}=n,i={key:t,expiry:a.toISOString(),timestamp:new Date(Date.now()).toISOString()},s=o.stateInstance;null===(e=null==s?void 0:s.expired$)||void 0===e||e.next(i),(null==s?void 0:s.ngxsDataAfterExpired)&&(l.c.ngZone?null===(r=l.c.ngZone)||void 0===r||r.run(()=>{var t;return null===(t=null==s?void 0:s.ngxsDataAfterExpired)||void 0===t?void 0:t.call(s,i,o)}):null===(u=null==s?void 0:s.ngxsDataAfterExpired)||void 0===u||u.call(s,i,o))}class g extends Error{constructor(t){super(`${t}. \nIncorrect structure for deserialization!!! Your structure should be like this: \n${JSON.stringify({lastChanged:"2020-01-01T12:00:00.000Z",data:"{}",version:1},null,4)}`)}}function h(t){try{return JSON.parse(t)}catch(n){throw new g(n.message)}}function v(t){var n,e;const{provider:r,map:u}=t;null===(n=u.get(r))||void 0===n||n.subscription.unsubscribe();const o=()=>{const n=new Date(Date.now()).toISOString(),e=Object(b.a)(r.ttlDelay).subscribe(()=>function(t,n,e){const{provider:r,expiry:l,map:u,engine:o}=n,a=f(r),i=o.getItem(a);if(i){if(d(l)){const l=new Date(Date.now()).toISOString();!function(t,n,e){const{provider:r,engine:l}=e;switch(r.ttlExpiredStrategy){case 0:l.removeItem(t);break;case 1:const e=h(n);e.data=null,l.setItem(t,JSON.stringify(e))}}(a,i,n),p(a,n),e.unsubscribe(),u.set(r,{subscription:e,startListen:t,endListen:l})}}else e.unsubscribe()}(n,t,e));u.set(r,{subscription:e,startListen:n,endListen:null})};l.c.ngZone?null===(e=l.c.ngZone)||void 0===e||e.runOutsideAngular(()=>o()):o()}class y extends Error{constructor(){super("missing key 'data' or it's value not serializable.")}}class D extends Error{constructor(t){super(`lastChanged key not found in object ${t}.`)}}class S extends Error{constructor(t){super(`It's not possible to determine version (${t}), since it must be a integer type and must equal or more than 1.`)}}function m(t,n){const e=Object(l.u)(t)?t:null;return"base64"===n.decode?btoa(JSON.stringify(e)):e}class E extends Error{constructor(t){super(`${u.c.NGXS_PERSISTENCE_ENGINE} \nMetadata { key: '${t}' }`)}}class N extends Error{constructor(){super("StorageEngine instance should be implemented by DataStorageEngine interface")}}function O(t,n){const e=t.existingEngine||n.get(t.useClass,null);if(!e)throw new E(f(t));if(!("getItem"in e))throw new N;return e}var A=e("Ci7/");function _(t,n){console.warn(`${u.c.NGXS_PERSISTENCE_SERIALIZE} from metadata { key: '${t}' }. \nError serialize: ${n}`)}e.d(n,"a",(function(){return T}));let T=(()=>{class t{constructor(n,e){this._platformId=n,t.injector=e,this.listenWindowEvents()}get store(){return t.injector.get(o.i,null)}get size(){return this.providers.size}get ttlListeners(){return t.ttlListeners}get container(){return t.injector.get(s.a)}get providers(){return this.container.providers}get keys(){return this.container.keys}get entries(){return this.providers.entries()}get skipStorageInterceptions(){return 0===this.size||Object(r.t)(this._platformId)}static checkIsStorageEvent(t,n,e){var r;const{action:l,provider:u,key:o,value:a}=t;if(n.rehydrateIn&&Object(A.a)(l)){const t=u.stateInstance;(null==t?void 0:t.ngxsDataAfterStorageEvent)&&(null===(r=null==t?void 0:t.ngxsDataAfterStorageEvent)||void 0===r||r.call(t,{key:o,value:a,data:e,provider:u}))}}static checkExpiredInit(t){const{info:n,rehydrateInfo:e,options:r,map:l}=t,{provider:u,engine:o}=r;e.rehydrateIn&&n.expiry&&v({provider:u,expiry:n.expiry,map:l,engine:o})}handle(t,n,e){if(this.skipStorageInterceptions)return e(t,n);const r=function(t){const n=Object(o.k)(t);return n(o.b)||n(o.j)}(n);return e(t=this.pullStateFromStorage(t,{action:n,init:r}),n).pipe(Object(i.a)(e=>this.pushStateToStorage(t,e,{action:n,init:r})))}serialize(n,e){const r={version:e.version,lastChanged:(new Date).toISOString(),data:m(n,e)};if(c(e)){const n=O(e,t.injector),l=new Date(Date.now()+parseInt(e.ttl));v({provider:e,expiry:l,map:this.ttlListeners,engine:n}),r.expiry=l.toISOString()}return JSON.stringify(r)}deserialize(t,n,e){return function(t,n,e){if(Object(l.w)(t)){if(function(t){return!("lastChanged"in t)||!t.lastChanged}(t))throw new D(n);if(function(t){const n=parseFloat(t.version);return isNaN(n)||n<1||parseInt(t.version)!==n}(t))throw new S(t.version);if(function(t){return!("data"in t)}(t))throw new y;return"base64"===e.decode?JSON.parse(atob(t.data)):t.data}throw new g(`"${n}" not an object`)}(t,n,e)}destroyOldTasks(){var n;null===(n=t.eventsSubscriptions)||void 0===n||n.unsubscribe(),t.ttlListeners=new WeakMap}pushStateToStorage(n,e,r){for(const[u]of this.entries){const a=Object(o.m)(n,u.path),i=Object(o.m)(e,u.path),s=u.fireInit&&r.init;if(a!==i||s){const n=O(u,t.injector),e=f(u);try{const t=this.serialize(i,u);n.setItem(e,t),this.keys.set(e)}catch(l){_(e,l.message)}}}}pullStateFromStorage(t,{action:n,init:e}){if(this.canBeSyncStoreWithStorage(n,e))for(const[r]of this.entries)t=this.deserializeByProvider(t,n,r);return t}canBeSyncStoreWithStorage(t,n){return this.size>0&&(n||t.type===u.e)}deserializeByProvider(n,e,r){const u=f(r),o=O(r,t.injector),a=o.getItem(u);return Object(l.u)(a)&&(n=this.deserializeHandler(n,{key:u,engine:o,provider:r,value:a,action:e})),n}deserializeHandler(n,e){const{key:r,provider:a,value:i}=e;try{const u=h(i),s=this.deserialize(u,i,a),b=function(t){const{data:n,provider:e}=t,r=Object(l.u)(n)||e.nullable;let u={canBeOverrideFromStorage:r,versionMismatch:!1,expired:!1,expiry:null};return u=function(t,n,e){const{meta:r,provider:l}=e;if(t&&c(l)){const e=new Date(r.expiry);!isNaN(e.getTime())&&(n=d(e)?{canBeOverrideFromStorage:!1,expired:!0,expiry:e,versionMismatch:!1}:{canBeOverrideFromStorage:t,expired:!1,expiry:e,versionMismatch:!1})}return n}(r,u,t),u=function(t,n,e){const{meta:r,provider:l}=e;if(t&&r.version!==l.version){const t=l.stateInstance,e=!(l.skipMigrate||!(null==t?void 0:t.ngxsDataStorageMigrate)&&!l.migrate);n=Object.assign(Object.assign({},n),e?{versionMismatch:!0}:{canBeOverrideFromStorage:!1,versionMismatch:!0})}return n}(r,u,t),u}({provider:a,meta:u,data:s});if(b.canBeOverrideFromStorage){const l=function(t){var n;let e=t.states;const{provider:r,data:l,info:u}=t;if(!r.rehydrate)return{states:e,rehydrateIn:!1};const a=Object(o.m)(e,r.path);if(u.versionMismatch){const t=r.stateInstance,u=r.migrate||(null===(n=t.ngxsDataStorageMigrate)||void 0===n?void 0:n.bind(r.stateInstance)),i=null==u?void 0:u(a,l);return e=Object(o.n)(e,r.path,i),{states:e,rehydrateIn:!0}}return JSON.stringify(a)!==JSON.stringify(l)?(e=Object(o.n)(e,r.path,l),{states:e,rehydrateIn:!0}):{states:e,rehydrateIn:!1}}({states:n,provider:a,data:s,info:b});this.keys.set(r),n=l.states,t.checkIsStorageEvent(e,l,s),t.checkExpiredInit({info:b,rehydrateInfo:l,options:e,map:this.ttlListeners})}else this.removeKeyWhenPullInvalid(b,e)}catch(s){!function(t,n,e){console.warn(`${u.c.NGXS_PERSISTENCE_DESERIALIZE} from metadata { key: '${t}', value: '${n}' }. \nError deserialize: ${e}`)}(r,i,s.message)}return n}removeKeyWhenPullInvalid(t,n){const{key:e,engine:r,provider:l}=n;t.expired&&p(e,{provider:l,engine:r,map:this.ttlListeners,expiry:t.expiry}),r.removeItem(e),this.keys.delete(e)}listenWindowEvents(){Object(r.t)(this._platformId)||(this.destroyOldTasks(),t.eventsSubscriptions=Object(a.a)(window,"storage").subscribe(t=>{t.key&&this.keys.has(t.key)&&this.store.dispatch({type:u.e})}))}}return t.injector=null,t.eventsSubscriptions=null,t.ttlListeners=new WeakMap,t})()},NZHw:function(t,n,e){"use strict";function r(t){return"undefined"!==t&&null!=t}function l(t){return!r(t)}function u(t){return JSON.parse(JSON.stringify(void 0===t?{}:t))}function o(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}function a(t){return t.NGXS_OPTIONS_META||{}}var i=e("UFJs");class s extends Error{constructor(t){super(`${i.c.NGXS_DATA_CHILDREN_CONVERT}. Cannot convert ${t&&t.constructor?t.constructor.name:t} to PlainObject`)}}function c(t){const n=a(t),e=n.children||[],r=u(n.defaults);if(e.length){if(o(r))return function(t,n){return n.reduce((t,n)=>{const e=a(n);if(!e.name)throw new Error(i.c.NGXS_DATA_STATE_NAME_NOT_FOUND);return t[e.name.toString()]=c(n),t},t)}(r,e);throw new s(r)}return r}function d(t){const{statePath:n,argumentsNames:e,methodName:r,argumentRegistry:l}=t;let u="";for(let o=0;o<e.length;o++)(null==l?void 0:l.getArgumentNameByIndex(o))?u+=null==l?void 0:l.getArgumentNameByIndex(o):(null==l?void 0:l.getPayloadTypeByIndex(o))?u+=null==l?void 0:l.getPayloadTypeByIndex(o):u+="$arg"+o,o!==e.length-1&&(u+=", ");return`@${n.replace(/\./g,"/")}.${r}(${u})`}function b(t){return(t+"").replace(/[/][/].*$/gm,"").replace(/\s+/g,"").replace(/[/][*][^/*]*[*][/]/g,"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)}function f(t){if(!t.hasOwnProperty(i.f)){const n={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(n.name),children:[]};Object.defineProperty(t,i.f,{value:n})}return function(t){return t[i.f]}(t)}var p=e("CuZ7");const g=t=>{const n=t instanceof Date;if("object"!=typeof t||null===t||n)return t;Object.freeze(t);const e="function"==typeof t,r=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach(n=>{!r.call(t,n)||e&&("caller"===n||"callee"===n||"arguments"===n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||g(t[n])}),t};var h=e("q6Pm"),v=e("oSDt"),y=e("PiU/");function D(t){return{enumerable:!0,configurable:!0,get(){const n=Object(p.a)(t),e=v.a.ensureMappedState(n.stateMeta);return v.a.createStateContext(e)}}}function S(t,n){(function(t){var n;const e=null!==(n=Object(p.a)(t))&&void 0!==n?n:null;return(!e||(null==e?void 0:e.stateClass)!==t)&&function(t){Object.defineProperty(t,i.d,{writable:!0,configurable:!0,enumerable:!0,value:{stateMeta:null,operations:{},stateClass:t}})}(t),Object(p.a)(t)}(t)).stateMeta=n}var m=e("8Y7J"),E=e("lJxs"),N=e("UXun");function O(t){const n=Object(p.a)(t),e=n.stateMeta&&n.stateMeta.name||null;if(e){const n=`__${e}__selector`;Object.defineProperties(t.prototype,{[n]:{writable:!0,enumerable:!1,configurable:!0},state$:{enumerable:!0,configurable:!0,get(){if(this[n])return this[n];if(!h.a.store)throw new Error(i.c.NGXS_DATA_MODULE_EXCEPTION);return this[n]=h.a.store.select(t).pipe(Object(E.a)(t=>Object(m.Y)()?g(t):t),Object(N.a)({refCount:!0,bufferSize:1})),this[n]}}})}}function A(t,n){if(t.hasOwnProperty("prototype"))throw new Error(i.c.NGXS_DATA_STATIC_ACTION);if(void 0===n)throw new Error(i.c.NGXS_DATA_ACTION)}function _(){if(!h.a.ngZone)throw new Error(i.c.NGXS_DATA_MODULE_EXCEPTION)}var T=e("cp0P");function w(t,n){return Object(T.a)([t,n]).pipe(Object(E.a)(t=>t.pop()))}class I extends Error{constructor(t,n){super(`An argument with the name '${t}' already exists in the method '${n}'`)}}class k{constructor(){this.payloadMap=new Map,this.argumentMap=new Map}getPayloadTypeByIndex(t){var n;return null!==(n=this.payloadMap.get(t))&&void 0!==n?n:null}getArgumentNameByIndex(t){var n;return null!==(n=this.argumentMap.get(t))&&void 0!==n?n:null}createPayloadType(t,n,e){this.checkDuplicateName(t,n),this.payloadMap.set(e,t),this.payloadMap.set(t,t)}createArgumentName(t,n,e){this.checkDuplicateName(t,n),this.argumentMap.set(e,t),this.argumentMap.set(t,t)}checkDuplicateName(t,n){if(this.argumentMap.has(t)||this.payloadMap.has(t))throw new I(t,n)}}function x(t){return t[i.a]}function C(t,n){const e=t[n];return x(e)||Object.defineProperties(e,{[i.a]:{enumerable:!0,configurable:!0,value:new k}}),x(e)}function L(t,n){var e;if(!(null===(e=Object.getOwnPropertyDescriptor(t,n))||void 0===e?void 0:e.get))throw new Error(i.c.NGXS_COMPUTED_DECORATOR+`\nExample: \n@Computed() get ${n.toString()}() { \n\t .. \n}`)}function M(t){if(!t)throw new Error(i.c.NGXS_DATA_STATE_DECORATOR);return Object.assign(Object.assign({},t),{getState:()=>Object(m.Y)()?g(t.getState()):t.getState(),setState(n){t.setState(n)},patchState(n){t.patchState(n)}})}function j(){return`__${i.b}__`}function P(t){var n;return null!==(n=t[j()])&&void 0!==n?n:null}function G(t){return P(t)||Object.defineProperties(t,{[j()]:{enumerable:!0,configurable:!0,value:new WeakMap}}),P(t)}function R(t){return Object(m.Y)()?g(t):t}function F(){var t,n;return null!==(n=null===(t=null==h.a?void 0:h.a.computed)||void 0===t?void 0:t.sequenceValue)&&void 0!==n?n:0}e("t83K");var X=e("7+OI");function z(t){let n=!1;return Object(X.a)(t)&&(n=!0),n}e.d(n,"u",(function(){return r})),e.d(n,"v",(function(){return l})),e.d(n,"l",(function(){return u})),e.d(n,"w",(function(){return o})),e.d(n,"f",(function(){return c})),e.d(n,"e",(function(){return d})),e.d(n,"a",(function(){return b})),e.d(n,"q",(function(){return f})),e.d(n,"s",(function(){return p.a})),e.d(n,"c",(function(){return h.a})),e.d(n,"b",(function(){return v.a})),e.d(n,"d",(function(){return y.a})),e.d(n,"i",(function(){return D})),e.d(n,"j",(function(){return S})),e.d(n,"k",(function(){return O})),e.d(n,"y",(function(){return A})),e.d(n,"g",(function(){return _})),e.d(n,"h",(function(){return w})),e.d(n,"o",(function(){return C})),e.d(n,"z",(function(){return L})),e.d(n,"n",(function(){return M})),e.d(n,"r",(function(){return x})),e.d(n,"m",(function(){return G})),e.d(n,"p",(function(){return R})),e.d(n,"t",(function(){return F})),e.d(n,"x",(function(){return z}))},"PiU/":function(t,n,e){"use strict";e.d(n,"a",(function(){return l})),e("e1JD");var r=e("2Vo4");class l{constructor(t){this.sequence$=new r.a(0),this.subscription=null,t&&(this.subscription=t.subscribe(()=>this.updateSequence()))}get sequenceValue(){return this.sequence$.getValue()}ngOnDestroy(){var t;this.sequence$.next(0),null===(t=this.subscription)||void 0===t||t.unsubscribe()}updateSequence(){this.sequence$.next(this.sequenceValue+1)}}},UFJs:function(t,n,e){"use strict";var r=function(t){return t.NGXS_PERSISTENCE_STATE="@Persistence should be add before decorator @State and @StateRepository",t.NGXS_DATA_STATE="@StateRepository should be add before decorator @State",t.NGXS_DATA_STATE_NAME_NOT_FOUND="State name not provided in class",t.NGXS_DATA_MODULE_EXCEPTION="Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!",t.NGXS_DATA_STATE_DECORATOR="You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])",t.NGXS_DATA_STATIC_ACTION="Cannot support static methods with @DataAction()",t.NGXS_DATA_ACTION="@DataAction() can only decorate a method implementation",t.NGXS_DATA_ASYNC_ACTION_RETURN_TYPE="WARNING: If you use asynchronous actions `@Debounce() @DataAction()` the return result type should only void instead:",t.NGXS_PERSISTENCE_CONTAINER="You forgot provide NGXS_DATA_STORAGE_CONTAINER or NGXS_DATA_STORAGE_EXTENSION!!! Example: \n\n@NgModule({\n imports: [ \n   NgxsDataPluginModule.forRoot([NGXS_DATA_STORAGE_PLUGIN]) \n ]\n})\nexport class AppModule {} \n\n",t.NGXS_PERSISTENCE_ENGINE="Not found storage engine from `existingEngine` or not found instance after injecting by `useClass`.",t.NGXS_PERSISTENCE_SERIALIZE="Error occurred while serializing value",t.NGXS_PERSISTENCE_DESERIALIZE="Error occurred while deserializing value",t.NGXS_DATA_CHILDREN_CONVERT="Child states can only be added to an object",t.NGXS_INVALID_PAYLOAD_NAME="Payload name should be initialized",t.NGXS_INVALID_ARG_NAME="Argument name should be initialized",t.NGXS_COMPUTED_DECORATOR="The method must be a getter for the computed decorator to work properly.",t.NGXS_COMPARE="You must set the compare function before sorting.",t}({});e.d(n,"e",(function(){return"NGXS_DATA_STORAGE_EVENT_TYPE"})),e.d(n,"d",(function(){return"NGXS_DATA_META"})),e.d(n,"c",(function(){return r})),e.d(n,"f",(function(){return"NGXS_META"})),e.d(n,"a",(function(){return"NGXS_ARGUMENT_REGISTRY_META"})),e.d(n,"b",(function(){return"NGXS_COMPUTED_OPTION"}))},lLvT:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));class r{}},mwGw:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e("sXi/");function l(){return new r.a}},oSDt:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e("UFJs"),l=e("t83K"),u=e("CuZ7"),o=e("q6Pm");let a=(()=>{class t{constructor(){t.statesCachedMeta.clear()}static createStateContext(t){return o.a.context.createStateContext(t)}static ensureMappedState(n){if(!o.a.factory||!n)throw new Error(r.c.NGXS_DATA_MODULE_EXCEPTION);return(n.name?t.statesCachedMeta.get(n.name):null)||t.ensureMeta(n)}static getRepositoryByInstance(n){const e=t.getStateClassByInstance(n),l=Object(u.a)(e)||null;if(!l)throw new Error(r.c.NGXS_DATA_STATE_DECORATOR);return l}static getStateClassByInstance(t){return(t||{}).constructor}static clearMetaByInstance(n){const e=t.getRepositoryByInstance(n);e.stateMeta.actions={},e.operations={}}static createPayload(t,n){const e={},r=Array.from(t);for(let l=0;l<r.length;l++)(null==n?void 0:n.getPayloadTypeByIndex(l))&&(e[null==n?void 0:n.getPayloadTypeByIndex(l)]=r[l]);return Object.keys(e).length>0?e:null}static createAction(n,e,r){const u=t.createPayload(e,r);return new(Object(l.a)(n.type))(u)}static ensureMeta(n){var e;const r=n.name?null===(e=o.a.factory.states)||void 0===e?void 0:e.find(t=>t.name===n.name):null;return r&&n.name&&t.statesCachedMeta.set(n.name,r),r}}return t.statesCachedMeta=new Map,t})()},q6Pm:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("8Y7J"),l=e("e1JD"),u=e("PiU/");let o=(()=>{class t{constructor(n,e,o){t.store=n.get(l.i),t.ngZone=n.get(r.z),t.factory=e,t.context=o,t.computed=n.get(u.a)}}return t.store=null,t.computed=null,t.context=null,t.factory=null,t.ngZone=null,t})()},"sXi/":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));class r{constructor(){this.providers=new Set,this.keys=new Map}getProvidedKeys(){return Array.from(this.keys.keys())}}},t83K:function(t,n,e){"use strict";function r(t){return class{constructor(t){t&&Object.keys(t).forEach(n=>{this[n]=t[n]})}static get type(){return t}}}e.d(n,"a",(function(){return r}))},zqRF:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));const r=new(e("8Y7J").q)("NGXS_DATA_STORAGE_CONTAINER_TOKEN")}},[[0,1,8]]]);