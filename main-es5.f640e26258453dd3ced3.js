function _defineProperty(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_unsupportedIterableToArray(t,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,u=!1,l=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(i){u=!0,l=i}finally{try{r||null==a.return||a.return()}finally{if(u)throw l}}return e}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,u,l=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return l=t.done,t},e:function(t){o=!0,u=t},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw u}}}}function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&_setPrototypeOf(t,n)}function _createSuper(t){return function(){var n,e=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(t):n}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(e,t)})(t)}function _construct(t,n,e){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var u=new(Function.bind.apply(t,r));return e&&_setPrototypeOf(u,e.prototype),u}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,n){return(_setPrototypeOf=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,n):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{0:function(t,n,e){t.exports=e("2v48")},"2v48":function(t,n,e){"use strict";e.r(n);var r=e("8Y7J"),u=function t(){_classCallCheck(this,t)},l=e("e1JD"),o=function(){function t(n){_classCallCheck(this,t),this.store=n,this.snapshot=this.store.select((function(t){return t}))}return _createClass(t,[{key:"ngOnInit",value:function(){console.log("[isDevMode]",Object(r.X)())}}]),t}(),a=e("pMnS"),i=e("SVse"),c=e("iInd"),s=r.rb({encapsulation:2,styles:[],data:{}});function f(t){return r.Mb(2,[(t()(),r.tb(0,0,null,null,8,"div",[["class","panel"]],null,null,null,null,null)),(t()(),r.tb(1,0,null,null,0,"img",[["class","logo"],["src","https://habrastorage.org/webt/k7/ih/pc/k7ihpcg6w-jz-rzksmiyuip5_so.png"]],null,null,null,null,null)),(t()(),r.tb(2,0,null,null,6,"div",[["class","panel-content"]],null,null,null,null,null)),(t()(),r.tb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,["Store:"])),(t()(),r.tb(5,0,null,null,3,"pre",[],null,null,null,null,null)),(t()(),r.Kb(6,null,["",""])),r.Gb(131072,i.b,[r.i]),r.Gb(0,i.f,[]),(t()(),r.tb(9,0,null,null,42,"div",[["class","menu"]],null,null,null,null,null)),(t()(),r.tb(10,0,null,null,11,"div",[["class","menu-top"]],null,null,null,null,null)),(t()(),r.tb(11,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,[" \ud83e\uddfe "])),(t()(),r.tb(13,0,null,null,1,"a",[["class","link"],["href","https://github.com/ngxs-labs/data/tree/master/docs"],["target","_blank"]],null,null,null,null,null)),(t()(),r.Kb(-1,null,[" Official documentation "])),(t()(),r.tb(15,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,[" \ud83d\ude80 "])),(t()(),r.tb(17,0,null,null,1,"a",[["class","link"],["href","https://stackblitz.io/github/ngxs-labs/data"],["target","_blank"]],null,null,null,null,null)),(t()(),r.Kb(-1,null,["Stackblitz"])),(t()(),r.tb(19,0,null,null,2,"span",[["class","ng-icon"]],null,null,null,null,null)),(t()(),r.tb(20,0,null,null,0,"img",[["class","img"],["src","https://cdn.worldvectorlogo.com/logos/angular-icon-1.svg"]],null,null,null,null,null)),(t()(),r.Kb(-1,null,[" Angular 8+, NGXS 3.6.2+ "])),(t()(),r.tb(22,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,["\ud83c\udfc0 "])),(t()(),r.tb(24,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var u=!0;return"click"===n&&(u=!1!==r.Eb(t,25).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),r.sb(25,671744,null,0,c.l,[c.k,c.a,i.i],{routerLink:[0,"routerLink"]},null),r.Fb(26,1),(t()(),r.Kb(-1,null,["CountState"])),(t()(),r.tb(28,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,["\ud83e\udded "])),(t()(),r.tb(30,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var u=!0;return"click"===n&&(u=!1!==r.Eb(t,31).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),r.sb(31,671744,null,0,c.l,[c.k,c.a,i.i],{routerLink:[0,"routerLink"]},null),r.Fb(32,1),(t()(),r.Kb(-1,null,["TodoState"])),(t()(),r.tb(34,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,["\ud83d\ude0b "])),(t()(),r.tb(36,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var u=!0;return"click"===n&&(u=!1!==r.Eb(t,37).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),r.sb(37,671744,null,0,c.l,[c.k,c.a,i.i],{routerLink:[0,"routerLink"]},null),r.Fb(38,1),(t()(),r.Kb(-1,null,["PersonState"])),(t()(),r.tb(40,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,["\ud83d\udcb0 "])),(t()(),r.tb(42,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var u=!0;return"click"===n&&(u=!1!==r.Eb(t,43).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),r.sb(43,671744,null,0,c.l,[c.k,c.a,i.i],{routerLink:[0,"routerLink"]},null),r.Fb(44,1),(t()(),r.Kb(-1,null,["AmountState"])),(t()(),r.tb(46,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Kb(-1,null,["\ud83d\udccb "])),(t()(),r.tb(48,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var u=!0;return"click"===n&&(u=!1!==r.Eb(t,49).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),r.sb(49,671744,null,0,c.l,[c.k,c.a,i.i],{routerLink:[0,"routerLink"]},null),r.Fb(50,1),(t()(),r.Kb(-1,null,["ArticleEntitiesState"])),(t()(),r.tb(52,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.tb(53,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.tb(54,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),r.tb(55,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.sb(56,212992,null,0,c.n,[c.b,r.O,r.k,[8,null],r.i],null,null)],(function(t,n){var e=t(n,26,0,"count");t(n,25,0,e);var r=t(n,32,0,"todo");t(n,31,0,r);var u=t(n,38,0,"person");t(n,37,0,u);var l=t(n,44,0,"amount");t(n,43,0,l);var o=t(n,50,0,"article");t(n,49,0,o),t(n,56,0)}),(function(t,n){var e=n.component;t(n,6,0,r.Lb(n,6,0,r.Eb(n,8).transform(r.Lb(n,6,0,r.Eb(n,7).transform(e.snapshot))))),t(n,24,0,r.Eb(n,25).target,r.Eb(n,25).href),t(n,30,0,r.Eb(n,31).target,r.Eb(n,31).href),t(n,36,0,r.Eb(n,37).target,r.Eb(n,37).href),t(n,42,0,r.Eb(n,43).target,r.Eb(n,43).href),t(n,48,0,r.Eb(n,49).target,r.Eb(n,49).href)}))}var b=r.pb("app-root",o,(function(t){return r.Mb(0,[(t()(),r.tb(0,0,null,null,1,"app-root",[],null,null,null,f,s)),r.sb(1,114688,null,0,o,[l.h],null,null)],(function(t,n){t(n,1,0)}),null)}),{},{},[]),d=e("cUpR"),h=e("fDlF"),p=e("omvX"),y=e("s7LF"),_=e("Mrqg"),v=e("GS7A"),C=e("PiU/"),g=e("zqRF"),S=e("5Q4k"),m=function(){return Promise.all([e.e(0),e.e(10)]).then(e.bind(null,"5VnZ")).then((function(t){return t.CountModuleNgFactory}))},E=function(){return Promise.all([e.e(0),e.e(12)]).then(e.bind(null,"Mgl+")).then((function(t){return t.TodoModuleNgFactory}))},A=function(){return Promise.all([e.e(0),e.e(2),e.e(11)]).then(e.bind(null,"xala")).then((function(t){return t.PersonModuleNgFactory}))},k=function(){return Promise.all([e.e(0),e.e(8)]).then(e.bind(null,"0Wjt")).then((function(t){return t.AmountModuleNgFactory}))},O=function(){return Promise.all([e.e(0),e.e(2),e.e(9)]).then(e.bind(null,"lAMg")).then((function(t){return t.ArticleModuleNgFactory}))},N=function t(){_classCallCheck(this,t)},T=e("ZArt"),w=e("F7qv"),I=e("oSDt"),P=e("q6Pm"),j=e("NZHw"),M=function(){function t(n,e){_classCallCheck(this,t),this.accessor=n,this.injector=e}return _createClass(t,null,[{key:"forRoot",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:t,providers:[j.b,j.c,j.d].concat(_toConsumableArray(n))}}}]),t}(),D=e("lLvT"),R=r.qb(u,[o],(function(t){return r.Bb([r.Cb(512,r.k,r.bb,[[8,[a.a,b]],[3,r.k],r.w]),r.Cb(5120,r.t,r.nb,[[3,r.t]]),r.Cb(4608,i.m,i.l,[r.t,[2,i.v]]),r.Cb(5120,r.jb,r.ob,[r.y]),r.Cb(5120,r.c,r.kb,[]),r.Cb(5120,r.r,r.lb,[]),r.Cb(5120,r.s,r.mb,[]),r.Cb(4608,d.b,d.k,[i.d]),r.Cb(6144,r.G,null,[d.b]),r.Cb(4608,d.e,d.g,[]),r.Cb(5120,d.c,(function(t,n,e,r,u,l,o,a){return[new d.i(t,n,e),new d.n(r),new d.m(u,l,o,a)]}),[i.d,r.y,r.A,i.d,i.d,d.e,r.cb,[2,d.f]]),r.Cb(4608,d.d,d.d,[d.c,r.y]),r.Cb(135680,d.l,d.l,[i.d]),r.Cb(4608,d.j,d.j,[d.d,d.l,r.c]),r.Cb(5120,h.a,p.e,[]),r.Cb(5120,h.c,p.f,[]),r.Cb(4608,h.b,p.d,[i.d,h.a,h.c]),r.Cb(5120,r.E,p.g,[d.j,h.b,r.y]),r.Cb(6144,d.o,null,[d.l]),r.Cb(4608,r.M,r.M,[r.y]),r.Cb(4608,y.q,y.q,[]),r.Cb(5120,c.a,c.x,[c.k]),r.Cb(4608,c.d,c.d,[]),r.Cb(6144,c.f,null,[c.d]),r.Cb(135680,c.o,c.o,[c.k,r.v,r.j,r.q,c.f]),r.Cb(4608,c.e,c.e,[]),r.Cb(5120,c.C,c.t,[c.k,i.r,c.g]),r.Cb(5120,c.h,c.A,[c.y]),r.Cb(5120,r.b,(function(t,n){return[t,l.d.appBootstrapListenerFactory(n)]}),[c.h,_.e]),r.Cb(4608,v.b,p.c,[r.E,i.d]),r.Cb(4608,y.d,y.d,[]),r.Cb(4608,l.a,l.a,[l.n,l.E]),r.Cb(135680,C.a,C.a,[[2,l.h]]),r.Cb(5120,g.a,S.b,[]),r.Cb(1073742336,i.c,i.c,[]),r.Cb(1024,r.m,d.p,[]),r.Cb(1024,r.x,(function(){return[c.s()]}),[]),r.Cb(512,c.y,c.y,[r.q]),r.Cb(1024,r.d,(function(t,n){return[d.q(t),c.z(n)]}),[[2,r.x],c.y]),r.Cb(512,r.e,r.e,[[2,r.d]]),r.Cb(131584,r.g,r.g,[r.y,r.cb,r.q,r.m,r.k,r.e]),r.Cb(1073742336,r.f,r.f,[r.g]),r.Cb(1073742336,d.a,d.a,[[3,d.a]]),r.Cb(1073742336,y.p,y.p,[]),r.Cb(1073742336,y.g,y.g,[]),r.Cb(1024,c.r,c.v,[[3,c.k]]),r.Cb(512,c.q,c.c,[]),r.Cb(512,c.b,c.b,[]),r.Cb(256,c.g,{useHash:!0},[]),r.Cb(1024,i.i,c.u,[i.q,[2,i.a],c.g]),r.Cb(512,i.h,i.h,[i.i,i.q]),r.Cb(512,r.j,r.j,[]),r.Cb(512,r.v,r.J,[r.j,[2,r.K]]),r.Cb(1024,c.i,(function(){return[[{path:"",redirectTo:"count",pathMatch:"full"},{path:"count",loadChildren:m},{path:"todo",loadChildren:E},{path:"person",loadChildren:A},{path:"amount",loadChildren:k},{path:"article",loadChildren:O}]]}),[]),r.Cb(1024,c.k,c.w,[r.g,c.q,c.b,i.h,r.q,r.v,r.j,c.i,c.g,[2,c.p],[2,c.j]]),r.Cb(1073742336,c.m,c.m,[[2,c.r],[2,c.k]]),r.Cb(1073742336,N,N,[]),r.Cb(1073742336,p.b,p.b,[]),r.Cb(1073742336,y.n,y.n,[]),r.Cb(256,l.d.ROOT_OPTIONS,{developmentMode:!1},[]),r.Cb(1024,l.v,l.d.ngxsConfigFactory,[l.d.ROOT_OPTIONS]),r.Cb(512,l.n,l.n,[]),r.Cb(512,l.z,l.z,[]),r.Cb(512,l.f,l.f,[]),r.Cb(256,T.d,void 0,[]),r.Cb(1024,T.a,T.e,[T.d]),r.Cb(1024,l.c,(function(t,n,e,r){return[new T.b(t,n),new w.a(e,r)]}),[T.a,r.q,r.A,[4,r.q]]),r.Cb(512,l.D,l.D,[[3,l.D],[2,l.c]]),r.Cb(512,l.w,l.q,[r.y,r.A]),r.Cb(512,l.E,l.E,[l.w]),r.Cb(512,l.A,l.A,[r.m,l.n,l.z,l.D,l.f,l.E]),r.Cb(256,l.u,r.X,[]),r.Cb(256,l.t,_.f,[]),r.Cb(512,l.G,l.G,[l.u,l.t]),r.Cb(512,l.F,l.F,[l.G,l.v]),r.Cb(512,l.C,l.C,[l.f,l.A,l.v,l.F]),r.Cb(512,l.B,l.B,[l.C]),r.Cb(1024,_.a,l.d.getInitialState,[]),r.Cb(512,l.y,l.y,[r.q,l.v,[3,l.y],l.n,l.z,l.B,[2,_.a]]),r.Cb(512,l.h,l.h,[l.f,l.C,l.v,l.E,l.y,[2,_.a]]),r.Cb(512,l.H,l.H,[l.h,l.v]),r.Cb(256,l.r,[],[]),r.Cb(512,_.e,_.e,[]),r.Cb(512,l.o,l.o,[l.C,l.B,_.e]),r.Cb(1073742336,l.x,l.x,[l.y,l.C,l.h,l.H,[2,l.r],l.o]),r.Cb(1073742336,T.c,T.c,[]),r.Cb(512,I.a,I.a,[]),r.Cb(2048,_.d,null,[l.y]),r.Cb(2048,_.c,null,[l.B]),r.Cb(512,P.a,P.a,[r.q,_.d,_.c]),r.Cb(1073742336,M,M,[[4,I.a],[4,P.a]]),r.Cb(1073742336,D.a,D.a,[]),r.Cb(1073742336,u,u,[]),r.Cb(256,r.ab,!0,[]),r.Cb(256,p.a,"BrowserAnimations",[])])}));Object(r.S)(),d.h().bootstrapModuleFactory(R).catch((function(t){return console.error(t)}))},"5Q4k":function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return l}));var r=e("sXi/"),u=e("zqRF"),l=function(){return new r.a},o={provide:u.a,useFactory:l}},"BS/u":function(t,n){function e(t){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}))}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="BS/u"},CuZ7:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e("UFJs");function u(t){return t[r.d]}},F7qv:function(t,n,e){"use strict";var r=e("SVse"),u=e("NZHw"),l=e("UFJs"),o=e("e1JD"),a=e("xgIS"),i=e("vkgz"),c=e("zqRF"),s=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.call(this,"missing key 'data' or it's value not serializable.")}return e}(),f=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,"lastChanged key not found in object ".concat(t,"."))}return e}(),b=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,"".concat(t,". \nIncorrect structure for deserialization!!! Your structure should be like this: \n").concat(JSON.stringify({lastChanged:"2020-01-01T12:00:00.000Z",data:"{}",version:1},null,4)))}return e}(),d=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,"It's not possible to determine version (".concat(t,"), since it must be a integer type and must equal or more than 1."))}return e}();function h(t){return"".concat(t.prefixKey).concat(t.path)}var p=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,"".concat(l.c.NGXS_PERSISTENCE_ENGINE," \nMetadata { key: '").concat(t,"' }"))}return e}(),y=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(){return _classCallCheck(this,e),n.call(this,"StorageEngine instance should be implemented by DataStorageEngine interface")}return e}();function _(t,n){var e=t.existingEngine||n.get(t.useClass,null);if(!e)throw new p(h(t));if(!("getItem"in e))throw new y;return e}function v(t,n){console.warn("".concat(l.c.NGXS_PERSISTENCE_SERIALIZE," from metadata { key: '").concat(t,"' }. \nError serialize: ").concat(n))}e.d(n,"a",(function(){return g}));var C,g=((C=function(){function t(n,e){_classCallCheck(this,t),this._platformId=n,t.injector=e,this.listenWindowEvents()}return _createClass(t,[{key:"handle",value:function(t,n,e){var r=this;if(this.skipStorageInterceptions)return e(t,n);var u=function(t){var n=Object(o.j)(t);return n(o.b)||n(o.i)}(n);return e(t=this.firstSynchronizationWithStorage(t,n,u),n).pipe(Object(i.a)((function(n){return r.nextSynchronizationWithStorage(t,n,u)})))}},{key:"serialize",value:function(t,n){return JSON.stringify({lastChanged:(new Date).toISOString(),version:n.version,data:Object(u.u)(t)?t:null})}},{key:"deserialize",value:function(t){return function(t,n){if(Object(u.w)(t)){if(function(t){return!("lastChanged"in t&&t.lastChanged)}(t))throw new f(n);if(function(t){var n=parseFloat(t.version);return isNaN(n)||n<1||parseInt(t.version)!==n}(t))throw new d(t.version);if(function(t){return!("data"in t)}(t))throw new s;return t.data}throw new b('"'.concat(n,'" not an object'))}(function(t){try{return JSON.parse(t)}catch(n){throw new b(n.message)}}(t),t)}},{key:"nextSynchronizationWithStorage",value:function(n,e,r){var u,l=_createForOfIteratorHelper(this.entries);try{for(l.s();!(u=l.n()).done;){var a=_slicedToArray(u.value,1)[0],i=Object(o.l)(n,a.path),c=Object(o.l)(e,a.path);if(i!==c||r){var s=_(a,t.injector),f=h(a);try{var b=this.serialize(c,a);s.setItem(f,b),this.keys.set(f)}catch(d){v(f,d.message)}}}}catch(p){l.e(p)}finally{l.f()}}},{key:"firstSynchronizationWithStorage",value:function(t,n,e){if(this.canBeSyncStoreWithStorage(n,e)){var r,u=_createForOfIteratorHelper(this.entries);try{for(u.s();!(r=u.n()).done;){var l=_slicedToArray(r.value,1)[0];t=this.whenValueExistDeserializeIt(t,l)}}catch(o){u.e(o)}finally{u.f()}}return t}},{key:"canBeSyncStoreWithStorage",value:function(t,n){return this.size>0&&(n||t.type===l.e)}},{key:"whenValueExistDeserializeIt",value:function(n,e){var r=h(e),a=_(e,t.injector),i=a.getItem(r);if(Object(u.u)(i))try{var c=this.deserialize(i);Object(u.u)(c)||e.nullable?(this.keys.set(r),n=Object(o.m)(n,e.path,c)):(a.removeItem(r),this.keys.delete(r))}catch(s){!function(t,n,e){console.warn("".concat(l.c.NGXS_PERSISTENCE_DESERIALIZE," from metadata { key: '").concat(t,"', value: '").concat(n,"' }. \nError deserialize: ").concat(e))}(r,i,s.message)}return n}},{key:"listenWindowEvents",value:function(){var n,e=this;Object(r.t)(this._platformId)||(null===(n=t.eventsSubscriptions)||void 0===n||n.unsubscribe(),t.eventsSubscriptions=Object(a.a)(window,"storage").subscribe((function(t){t.key&&e.keys.has(t.key)&&e.store.dispatch({type:l.e})})))}},{key:"store",get:function(){return t.injector.get(o.h,null)}},{key:"size",get:function(){return this.providers.size}},{key:"container",get:function(){return t.injector.get(c.a)}},{key:"providers",get:function(){return this.container.providers}},{key:"keys",get:function(){return this.container.keys}},{key:"entries",get:function(){return this.providers.entries()}},{key:"skipStorageInterceptions",get:function(){return 0===this.size||Object(r.t)(this._platformId)}}]),t}()).injector=null,C.eventsSubscriptions=null,C)},NZHw:function(t,n,e){"use strict";function r(t){return"undefined"!==t&&null!=t}function u(t){return!r(t)}function l(t){return JSON.parse(JSON.stringify(void 0===t?{}:t))}function o(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}function a(t){return t.NGXS_OPTIONS_META||{}}var i=e("UFJs"),c=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(t){return _classCallCheck(this,e),n.call(this,"".concat(i.c.NGXS_DATA_CHILDREN_CONVERT,". Cannot convert ").concat(t&&t.constructor?t.constructor.name:t," to PlainObject"))}return e}();function s(t){var n=a(t),e=n.children||[],r=l(n.defaults);if(e.length){if(o(r))return function(t,n){return n.reduce((function(t,n){var e=a(n);if(!e.name)throw new Error(i.c.NGXS_DATA_STATE_NAME_NOT_FOUND);return t[e.name.toString()]=s(n),t}),t)}(r,e);throw new c(r)}return r}function f(t){for(var n=t.stateName,e=t.argumentsNames,r=t.methodName,u=t.argumentRegistry,l="",o=0;o<e.length;o++)(null==u?void 0:u.getArgumentNameByIndex(o))?l+=null==u?void 0:u.getArgumentNameByIndex(o):(null==u?void 0:u.getPayloadTypeByIndex(o))?l+=null==u?void 0:u.getPayloadTypeByIndex(o):l+="$arg"+o,o!==e.length-1&&(l+=", ");return"@".concat(n,".").concat(r,"(").concat(l,")")}function b(t){return(t+"").replace(/[/][/].*$/gm,"").replace(/\s+/g,"").replace(/[/][*][^/*]*[*][/]/g,"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)}function d(t){if(!t.hasOwnProperty(i.f)){var n={name:null,actions:{},defaults:{},path:null,makeRootSelector:function(t){return t.getStateGetter(n.name)},children:[]};Object.defineProperty(t,i.f,{value:n})}return function(t){return t[i.f]}(t)}var h=e("CuZ7"),p=function t(n){var e=n instanceof Date;if("object"!=typeof n||null===n||e)return n;Object.freeze(n);var r="function"==typeof n,u=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(n).forEach((function(e){!u.call(n,e)||r&&("caller"===e||"callee"===e||"arguments"===e)||null===n[e]||"object"!=typeof n[e]&&"function"!=typeof n[e]||Object.isFrozen(n[e])||t(n[e])})),n},y=e("q6Pm"),_=e("oSDt"),v=e("PiU/");function C(t){return{enumerable:!0,configurable:!0,get:function(){var n=Object(h.a)(t),e=_.a.ensureMappedState(n.stateMeta);return _.a.createStateContext(e)}}}function g(t,n){(function(t){var n,e=null!==(n=Object(h.a)(t))&&void 0!==n?n:null;return(!e||(null==e?void 0:e.stateClass)!==t)&&function(t){Object.defineProperty(t,i.d,{writable:!0,configurable:!0,enumerable:!0,value:{stateMeta:null,operations:{},stateClass:t}})}(t),Object(h.a)(t)}(t)).stateMeta=n}var S=e("8Y7J"),m=e("lJxs"),E=e("UXun");function A(t){var n=Object(h.a)(t),e=n.stateMeta&&n.stateMeta.name||null;if(e){var r,u="__".concat(e,"__selector");Object.defineProperties(t.prototype,(_defineProperty(r={},u,{writable:!0,enumerable:!1,configurable:!0}),_defineProperty(r,"state$",{enumerable:!0,configurable:!0,get:function(){if(this[u])return this[u];if(!y.a.store)throw new Error(i.c.NGXS_DATA_MODULE_EXCEPTION);return this[u]=y.a.store.select(t).pipe(Object(m.a)((function(t){return Object(S.X)()?p(t):t})),Object(E.a)({refCount:!0,bufferSize:1})),this[u]}}),r))}}function k(t,n){if(t.hasOwnProperty("prototype"))throw new Error(i.c.NGXS_DATA_STATIC_ACTION);if(void 0===n)throw new Error(i.c.NGXS_DATA_ACTION)}function O(){if(!y.a.ngZone)throw new Error(i.c.NGXS_DATA_MODULE_EXCEPTION)}var N=e("cp0P");function T(t,n){return Object(N.a)([t,n]).pipe(Object(m.a)((function(t){return t.pop()})))}var w=function(t){_inherits(e,_wrapNativeSuper(Error));var n=_createSuper(e);function e(t,r){return _classCallCheck(this,e),n.call(this,"An argument with the name '".concat(t,"' already exists in the method '").concat(r,"'"))}return e}(),I=function(){function t(){_classCallCheck(this,t),this.payloadMap=new Map,this.argumentMap=new Map}return _createClass(t,[{key:"getPayloadTypeByIndex",value:function(t){var n;return null!==(n=this.payloadMap.get(t))&&void 0!==n?n:null}},{key:"getArgumentNameByIndex",value:function(t){var n;return null!==(n=this.argumentMap.get(t))&&void 0!==n?n:null}},{key:"createPayloadType",value:function(t,n,e){this.checkDuplicateName(t,n),this.payloadMap.set(e,t),this.payloadMap.set(t,t)}},{key:"createArgumentName",value:function(t,n,e){this.checkDuplicateName(t,n),this.argumentMap.set(e,t),this.argumentMap.set(t,t)}},{key:"checkDuplicateName",value:function(t,n){if(this.argumentMap.has(t)||this.payloadMap.has(t))throw new w(t,n)}}]),t}();function P(t){return t[i.a]}function j(t,n){var e=t[n];return P(e)||Object.defineProperties(e,_defineProperty({},i.a,{enumerable:!0,configurable:!0,value:new I})),P(e)}function M(t,n){var e;if(!(null===(e=Object.getOwnPropertyDescriptor(t,n))||void 0===e?void 0:e.get))throw new Error(i.c.NGXS_COMPUTED_DECORATOR+"\nExample: \n@Computed() get ".concat(n.toString(),"() { \n\t .. \n}"))}function D(t,n){if(!n)throw new Error(i.c.NGXS_DATA_STATE_DECORATOR);return Object.assign(Object.assign({},n),{getState:function(){return Object(S.X)()?p(n.getState()):n.getState()},setState:function(t){n.setState(t)},patchState:function(t){n.patchState(t)}})}function R(){return"__".concat(i.b,"__")}function G(t){var n;return null!==(n=t[R()])&&void 0!==n?n:null}function x(t){return G(t)||Object.defineProperties(t,_defineProperty({},R(),{enumerable:!0,configurable:!0,value:new WeakMap})),G(t)}function X(t){return Object(S.X)()?p(t):t}function z(){var t,n;return null!==(n=null===(t=null==y.a?void 0:y.a.computed)||void 0===t?void 0:t.sequenceValue)&&void 0!==n?n:0}e("t83K");var F=e("7+OI");function q(t){var n=!1;return Object(F.a)(t)&&(n=!0),n}e.d(n,"u",(function(){return r})),e.d(n,"v",(function(){return u})),e.d(n,"l",(function(){return l})),e.d(n,"w",(function(){return o})),e.d(n,"f",(function(){return s})),e.d(n,"e",(function(){return f})),e.d(n,"a",(function(){return b})),e.d(n,"q",(function(){return d})),e.d(n,"s",(function(){return h.a})),e.d(n,"c",(function(){return y.a})),e.d(n,"b",(function(){return _.a})),e.d(n,"d",(function(){return v.a})),e.d(n,"i",(function(){return C})),e.d(n,"j",(function(){return g})),e.d(n,"k",(function(){return A})),e.d(n,"y",(function(){return k})),e.d(n,"g",(function(){return O})),e.d(n,"h",(function(){return T})),e.d(n,"o",(function(){return j})),e.d(n,"z",(function(){return M})),e.d(n,"n",(function(){return D})),e.d(n,"r",(function(){return P})),e.d(n,"m",(function(){return x})),e.d(n,"p",(function(){return X})),e.d(n,"t",(function(){return z})),e.d(n,"x",(function(){return q}))},"PiU/":function(t,n,e){"use strict";e.d(n,"a",(function(){return u})),e("e1JD");var r=e("2Vo4"),u=function(){function t(n){var e=this;_classCallCheck(this,t),this.sequence$=new r.a(0),this.subscription=null,n&&(this.subscription=n.subscribe((function(){return e.updateSequence()})))}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t;this.sequence$.next(0),null===(t=this.subscription)||void 0===t||t.unsubscribe()}},{key:"updateSequence",value:function(){this.sequence$.next(this.sequenceValue+1)}},{key:"sequenceValue",get:function(){return this.sequence$.getValue()}}]),t}()},UFJs:function(t,n,e){"use strict";var r=function(t){return t.NGXS_PERSISTENCE_STATE="@Persistence should be add before decorator @State and @StateRepository",t.NGXS_DATA_STATE="@StateRepository should be add before decorator @State",t.NGXS_DATA_STATE_NAME_NOT_FOUND="State name not provided in class",t.NGXS_DATA_MODULE_EXCEPTION="Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!",t.NGXS_DATA_STATE_DECORATOR="You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])",t.NGXS_DATA_STATIC_ACTION="Cannot support static methods with @action",t.NGXS_DATA_ACTION="@action can only decorate a method implementation",t.NGXS_DATA_ASYNC_ACTION_RETURN_TYPE="WARNING: If you use asynchronous actions `@Debounce() @DataAction()` the return result type should only void instead:",t.NGXS_PERSISTENCE_CONTAINER="You forgot provide NGXS_DATA_STORAGE_CONTAINER or NGXS_DATA_STORAGE_EXTENSION!!! Example: \n\n@NgModule({\n imports: [ \n   NgxsDataPluginModule.forRoot([NGXS_DATA_STORAGE_PLUGIN]) \n ]\n})\nexport class AppModule {} \n\n",t.NGXS_PERSISTENCE_ENGINE="Not found storage engine from `existingEngine` or not found instance after injecting by `useClass`.",t.NGXS_PERSISTENCE_SERIALIZE="Error occurred while serializing value",t.NGXS_PERSISTENCE_DESERIALIZE="Error occurred while deserializing value",t.NGXS_DATA_CHILDREN_CONVERT="Child states can only be added to an object",t.NGXS_INVALID_PAYLOAD_NAME="Payload name should be initialized",t.NGXS_INVALID_ARG_NAME="Argument name should be initialized",t.NGXS_COMPUTED_DECORATOR="The method must be a getter for the computed decorator to work properly.",t.NGXS_COMPARE="You must set the compare function before sorting.",t}({});e.d(n,"e",(function(){return"NGXS_DATA_STORAGE_EVENT_TYPE"})),e.d(n,"d",(function(){return"NGXS_DATA_META"})),e.d(n,"c",(function(){return r})),e.d(n,"f",(function(){return"NGXS_META"})),e.d(n,"a",(function(){return"NGXS_ARGUMENT_REGISTRY_META"})),e.d(n,"b",(function(){return"NGXS_COMPUTED_OPTION"}))},lLvT:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=function t(){_classCallCheck(this,t)}},oSDt:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e("UFJs"),u=e("t83K"),l=e("CuZ7"),o=e("q6Pm"),a=function(){var t=function(){function t(){_classCallCheck(this,t),t.statesCachedMeta.clear()}return _createClass(t,null,[{key:"createStateContext",value:function(t){return o.a.context.createStateContext(t)}},{key:"ensureMappedState",value:function(n){if(!o.a.factory||!n)throw new Error(r.c.NGXS_DATA_MODULE_EXCEPTION);return(n.name?t.statesCachedMeta.get(n.name):null)||t.ensureMeta(n)}},{key:"getRepositoryByInstance",value:function(n){var e=t.getStateClassByInstance(n),u=Object(l.a)(e)||null;if(!u)throw new Error(r.c.NGXS_DATA_STATE_DECORATOR);return u}},{key:"getStateClassByInstance",value:function(t){return(t||{}).constructor}},{key:"clearMetaByInstance",value:function(n){var e=t.getRepositoryByInstance(n);e.stateMeta.actions={},e.operations={}}},{key:"createPayload",value:function(t,n){for(var e={},r=Array.from(t),u=0;u<r.length;u++)(null==n?void 0:n.getPayloadTypeByIndex(u))&&(e[null==n?void 0:n.getPayloadTypeByIndex(u)]=r[u]);return Object.keys(e).length>0?e:null}},{key:"createAction",value:function(n,e,r){var l=t.createPayload(e,r);return new(Object(u.a)(n.type))(l)}},{key:"ensureMeta",value:function(n){var e,r=n.name?null===(e=o.a.factory.states)||void 0===e?void 0:e.find((function(t){return t.name===n.name})):null;return r&&n.name&&t.statesCachedMeta.set(n.name,r),r}}]),t}();return t.statesCachedMeta=new Map,t}()},q6Pm:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("8Y7J"),u=e("e1JD"),l=e("PiU/"),o=function(){var t=function t(n,e,o){_classCallCheck(this,t),t.store=n.get(u.h),t.ngZone=n.get(r.y),t.factory=e,t.context=o,t.computed=n.get(l.a)};return t.store=null,t.computed=null,t.context=null,t.factory=null,t.ngZone=null,t}()},"sXi/":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=function(){function t(){_classCallCheck(this,t),this.providers=new Set,this.keys=new Map}return _createClass(t,[{key:"getProvidedKeys",value:function(){return Array.from(this.keys.keys())}}]),t}()},t83K:function(t,n,e){"use strict";function r(t){return function(){function n(t){var e=this;_classCallCheck(this,n),t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))}return _createClass(n,null,[{key:"type",get:function(){return t}}]),n}()}e.d(n,"a",(function(){return r}))},zqRF:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=new(e("8Y7J").p)("NGXS_DATA_STORAGE_CONTAINER_TOKEN")}},[[0,1,7]]]);