(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,n,e){t.exports=e("Ea2l")},A0xI:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));const r=new(e("8Y7J").p)("NGXS_DATA_STORAGE_CONTAINER_TOKEN")},Ea2l:function(t,n,e){"use strict";e.r(n);var r=e("8Y7J");class l{}var o=e("e1JD");class u{constructor(t){this.store=t,this.snapshot=this.store.select(t=>t)}ngOnInit(){console.log("[isDevMode]",Object(r.V)())}}var a=e("pMnS"),s=e("SVse"),c=e("iInd"),i=r.pb({encapsulation:2,styles:[],data:{}});function b(t){return r.Ib(2,[(t()(),r.rb(0,0,null,null,8,"div",[["class","panel"]],null,null,null,null,null)),(t()(),r.rb(1,0,null,null,0,"img",[["class","logo"],["src","https://habrastorage.org/webt/k7/ih/pc/k7ihpcg6w-jz-rzksmiyuip5_so.png"]],null,null,null,null,null)),(t()(),r.rb(2,0,null,null,6,"div",[["class","panel-content"]],null,null,null,null,null)),(t()(),r.rb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Store:"])),(t()(),r.rb(5,0,null,null,3,"pre",[],null,null,null,null,null)),(t()(),r.Gb(6,null,["",""])),r.Db(131072,s.b,[r.i]),r.Db(0,s.f,[]),(t()(),r.rb(9,0,null,null,17,"div",[["class","menu"]],null,null,null,null,null)),(t()(),r.Gb(-1,null,[" Examples: "])),(t()(),r.rb(11,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["\u{1f680} "])),(t()(),r.rb(13,0,null,null,1,"a",[["class","link"],["href","https://stackblitz.io/github/ngxs-labs/data"],["target","_blank"]],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Stackblitz"])),(t()(),r.rb(15,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["\u{1f3c0} "])),(t()(),r.rb(17,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,18).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.qb(18,671744,null,0,c.l,[c.k,c.a,s.i],{routerLink:[0,"routerLink"]},null),r.Cb(19,1),(t()(),r.Gb(-1,null,["CountState"])),(t()(),r.rb(21,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["\u{1f9ed} "])),(t()(),r.rb(23,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,24).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.qb(24,671744,null,0,c.l,[c.k,c.a,s.i],{routerLink:[0,"routerLink"]},null),r.Cb(25,1),(t()(),r.Gb(-1,null,["TodoState"])),(t()(),r.rb(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.rb(28,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.rb(29,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),r.rb(30,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.qb(31,212992,null,0,c.n,[c.b,r.N,r.k,[8,null],r.i],null,null)],(function(t,n){var e=t(n,19,0,"count");t(n,18,0,e);var r=t(n,25,0,"todo");t(n,24,0,r),t(n,31,0)}),(function(t,n){var e=n.component;t(n,6,0,r.Hb(n,6,0,r.Bb(n,8).transform(r.Hb(n,6,0,r.Bb(n,7).transform(e.snapshot))))),t(n,17,0,r.Bb(n,18).target,r.Bb(n,18).href),t(n,23,0,r.Bb(n,24).target,r.Bb(n,24).href)}))}function d(t){return r.Ib(0,[(t()(),r.rb(0,0,null,null,1,"app-root",[],null,null,null,b,i)),r.qb(1,114688,null,0,u,[o.h],null,null)],(function(t,n){t(n,1,0)}),null)}var A=r.nb("app-root",u,d,{},{},[]),f=e("cUpR"),h=e("s7LF"),p=e("Mrqg"),E=e("A0xI"),S=e("YA0u");const N=()=>Promise.all([e.e(1),e.e(7)]).then(e.bind(null,"cY3I")).then(t=>t.CountModuleNgFactory),g=()=>Promise.all([e.e(1),e.e(8)]).then(e.bind(null,"xG8Z")).then(t=>t.TodoModuleNgFactory);class y{}var _=e("ZArt"),O=e("F7qv"),T=e("oSDt"),v=e("q6Pm"),m=e("NZHw");class C{constructor(t,n){this.accessor=t,this.injector=n}static forRoot(t=[]){return{ngModule:C,providers:[m.b,m.c,...t]}}}var I=e("lLvT"),w=r.ob(l,[u],(function(t){return r.zb([r.Ab(512,r.k,r.Z,[[8,[a.a,A]],[3,r.k],r.w]),r.Ab(5120,r.t,r.lb,[[3,r.t]]),r.Ab(4608,s.l,s.k,[r.t,[2,s.r]]),r.Ab(5120,r.hb,r.mb,[r.y]),r.Ab(5120,r.c,r.ib,[]),r.Ab(5120,r.r,r.jb,[]),r.Ab(5120,r.s,r.kb,[]),r.Ab(4608,f.b,f.k,[s.d]),r.Ab(6144,r.F,null,[f.b]),r.Ab(4608,f.e,f.g,[]),r.Ab(5120,f.c,(function(t,n,e,r,l,o,u,a){return[new f.i(t,n,e),new f.n(r),new f.m(l,o,u,a)]}),[s.d,r.y,r.A,s.d,s.d,f.e,r.ab,[2,f.f]]),r.Ab(4608,f.d,f.d,[f.c,r.y]),r.Ab(135680,f.l,f.l,[s.d]),r.Ab(4608,f.j,f.j,[f.d,f.l,r.c]),r.Ab(6144,r.D,null,[f.j]),r.Ab(6144,f.o,null,[f.l]),r.Ab(4608,r.L,r.L,[r.y]),r.Ab(4608,h.i,h.i,[]),r.Ab(5120,c.a,c.x,[c.k]),r.Ab(4608,c.d,c.d,[]),r.Ab(6144,c.f,null,[c.d]),r.Ab(135680,c.o,c.o,[c.k,r.v,r.j,r.q,c.f]),r.Ab(4608,c.e,c.e,[]),r.Ab(5120,c.C,c.t,[c.k,s.o,c.g]),r.Ab(5120,c.h,c.A,[c.y]),r.Ab(5120,r.b,(function(t,n){return[t,o.d.appBootstrapListenerFactory(n)]}),[c.h,p.e]),r.Ab(4608,o.a,o.a,[o.n,o.E]),r.Ab(5120,E.a,S.a,[]),r.Ab(1073742336,s.c,s.c,[]),r.Ab(1024,r.m,f.p,[]),r.Ab(1024,r.x,(function(){return[c.s()]}),[]),r.Ab(512,c.y,c.y,[r.q]),r.Ab(1024,r.d,(function(t,n){return[f.q(t),c.z(n)]}),[[2,r.x],c.y]),r.Ab(512,r.e,r.e,[[2,r.d]]),r.Ab(131584,r.g,r.g,[r.y,r.ab,r.q,r.m,r.k,r.e]),r.Ab(1073742336,r.f,r.f,[r.g]),r.Ab(1073742336,f.a,f.a,[[3,f.a]]),r.Ab(1073742336,h.h,h.h,[]),r.Ab(1073742336,h.c,h.c,[]),r.Ab(1024,c.r,c.v,[[3,c.k]]),r.Ab(512,c.q,c.c,[]),r.Ab(512,c.b,c.b,[]),r.Ab(256,c.g,{useHash:!0},[]),r.Ab(1024,s.i,c.u,[s.n,[2,s.a],c.g]),r.Ab(512,s.h,s.h,[s.i,s.n]),r.Ab(512,r.j,r.j,[]),r.Ab(512,r.v,r.I,[r.j,[2,r.J]]),r.Ab(1024,c.i,(function(){return[[{path:"",redirectTo:"count",pathMatch:"full"},{path:"count",loadChildren:N},{path:"todo",loadChildren:g}]]}),[]),r.Ab(1024,c.k,c.w,[r.g,c.q,c.b,s.h,r.q,r.v,r.j,c.i,c.g,[2,c.p],[2,c.j]]),r.Ab(1073742336,c.m,c.m,[[2,c.r],[2,c.k]]),r.Ab(1073742336,y,y,[]),r.Ab(256,o.d.ROOT_OPTIONS,{developmentMode:!1},[]),r.Ab(1024,o.v,o.d.ngxsConfigFactory,[o.d.ROOT_OPTIONS]),r.Ab(512,o.n,o.n,[]),r.Ab(512,o.z,o.z,[]),r.Ab(512,o.f,o.f,[]),r.Ab(256,_.d,void 0,[]),r.Ab(1024,_.a,_.e,[_.d]),r.Ab(1024,o.c,(function(t,n,e,r){return[new _.b(t,n),new O.a(e,r)]}),[_.a,r.q,r.A,[4,r.q]]),r.Ab(512,o.D,o.D,[[3,o.D],[2,o.c]]),r.Ab(512,o.w,o.q,[r.y,r.A]),r.Ab(512,o.E,o.E,[o.w]),r.Ab(512,o.A,o.A,[r.m,o.n,o.z,o.D,o.f,o.E]),r.Ab(256,o.u,r.V,[]),r.Ab(256,o.t,p.f,[]),r.Ab(512,o.G,o.G,[o.u,o.t]),r.Ab(512,o.F,o.F,[o.G,o.v]),r.Ab(512,o.C,o.C,[o.f,o.A,o.v,o.F]),r.Ab(512,o.B,o.B,[o.C]),r.Ab(1024,p.a,o.d.getInitialState,[]),r.Ab(512,o.y,o.y,[r.q,o.v,[3,o.y],o.n,o.z,o.B,[2,p.a]]),r.Ab(512,o.h,o.h,[o.f,o.C,o.v,o.E,o.y,[2,p.a]]),r.Ab(512,o.H,o.H,[o.h,o.v]),r.Ab(256,o.r,[],[]),r.Ab(512,p.e,p.e,[]),r.Ab(512,o.o,o.o,[o.C,o.B,p.e]),r.Ab(1073742336,o.x,o.x,[o.y,o.C,o.h,o.H,[2,o.r],o.o]),r.Ab(1073742336,_.c,_.c,[]),r.Ab(512,T.a,T.a,[]),r.Ab(2048,p.d,null,[o.y]),r.Ab(2048,p.c,null,[o.B]),r.Ab(512,v.a,v.a,[r.q,p.d,p.c]),r.Ab(1073742336,C,C,[[4,T.a],[4,v.a]]),r.Ab(1073742336,I.a,I.a,[]),r.Ab(1073742336,l,l,[]),r.Ab(256,r.Y,!0,[])])}));Object(r.R)(),f.h().bootstrapModuleFactory(w).catch(t=>console.log(t))},F7qv:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e("SVse"),l=e("NZHw"),o=e("UFJs"),u=e("e1JD"),a=e("xgIS"),s=e("vkgz"),c=e("A0xI");let i=(()=>{class t{constructor(n,e){this._platformId=n,t.injector=e,this.listenWindowEvents()}get store(){return t.injector.get(u.h,null)}get size(){return this.providers.size}get container(){var n;let e;try{e=null===(n=t.injector)||void 0===n?void 0:n.get(c.a)}catch(r){throw new Error(o.b.NGXS_PERSISTENCE_CONTAINER)}return e}get providers(){return this.container.providers}get keys(){return this.container.keys}get entries(){return this.providers.entries()}static exposeEngine(n){const e=n.existingEngine||t.injector.get(n.useClass,null);if(!e)throw new Error(`${o.b.NGXS_PERSISTENCE_ENGINE}:::${n.path}`);return e}handle(n,e,a){if(0===this.size||Object(r.p)(this._platformId))return a(n,e);const c=Object(u.j)(e),i=c(u.b)||c(u.i);if(this.size>0&&(i||e.type===o.a))for(const[r]of this.entries){const e=t.exposeEngine(r),a=this.ensureKey(r),s=e.getItem(a);if(Object(l.k)(s))try{const t=this.deserialize(s);Object(l.k)(t)||r.nullable?(this.keys.set(a),n=Object(u.m)(n,r.path,t)):(e.removeItem(a),this.keys.delete(a))}catch(b){console.error(`${o.b.NGXS_PERSISTENCE_DESERIALIZE}:::${r.path}`)}}return a(n,e).pipe(Object(s.a)(e=>{for(const[l]of this.entries){const a=Object(u.l)(n,l.path),s=Object(u.l)(e,l.path);if(a!==s||i){const n=t.exposeEngine(l);try{const t=this.serialize(s,l),e=this.ensureKey(l);n.setItem(e,t),this.keys.set(e)}catch(r){console.error(`${o.b.NGXS_PERSISTENCE_SERIALIZE}:::${l.path}`)}}}}))}serialize(t,n){return JSON.stringify({lastChanged:(new Date).toISOString(),version:n.version,data:Object(l.k)(t)?t:null})}deserialize(t){const n=JSON.parse(t);if(n.lastChanged)return n.data;throw new Error("Not found lastChanged in meta")}ensureKey(t){return`${t.prefixKey}${t.path}`}listenWindowEvents(){Object(r.p)(this._platformId)||Object(a.a)(window,"storage").subscribe(t=>{this.keys.has(t.key)&&this.store.dispatch({type:o.a})})}}return t.injector=null,t})()},NZHw:function(t,n,e){"use strict";function r(t){return"undefined"!==t&&null!=t}function l(t){return t.NGXS_OPTIONS_META||{}}var o=e("UFJs");function u(t){const n=l(t),e=n.children||[],r=(a=n.defaults,JSON.parse(JSON.stringify(void 0===a?{}:a)));var a,s;if(e.length){if("object"!=typeof(s=r)||Array.isArray(s)||null===s)throw new Error(`${o.b.NGXS_DATA_CHILDREN_CONVERT}. Cannot convert ${r&&r.constructor?r.constructor.name:r} to PlainObject`);return e.reduce((t,n)=>{const e=l(n);if(!e.name)throw new Error(o.b.NGXS_DATA_STATE_NAME_NOT_FOUND);return t[e.name.toString()]=u(n),t},r)}return r}function a(t,n,e){return`@${t}.${n}(${e.join(", ")})`}function s(t){return(t+"").replace(/[/][/].*$/gm,"").replace(/\s+/g,"").replace(/[/][*][^/*]*[*][/]/g,"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)}function c(t){if(!t.hasOwnProperty(o.d)){const n={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(n.name),children:[]};Object.defineProperty(t,o.d,{value:n})}return function(t){return t[o.d]}(t)}var i=e("Oa3G");const b=t=>{const n=t instanceof Date;if("object"!=typeof t||null===t||n)return t;Object.freeze(t);const e="function"==typeof t,r=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach((function(n){!r.call(t,n)||e&&("caller"===n||"callee"===n||"arguments"===n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||b(t[n])})),t};var d=e("q6Pm"),A=e("oSDt");function f(t){return{enumerable:!0,configurable:!0,get(){const n=Object(i.a)(t),e=A.a.ensureMappedState(n.stateMeta);if(!e)throw new Error("Cannot create state context, because not found meta information");return A.a.createStateContext(e)}}}function h(t,n){(function(t){return t[o.c]||Object.defineProperty(t,o.c,{value:{stateMeta:null,operations:{}}}),Object(i.a)(t)}(t)).stateMeta=n}var p=e("8Y7J"),E=e("lJxs"),S=e("UXun");function N(t){const n=Object(i.a)(t),e=n.stateMeta&&n.stateMeta.name||null;if(e){const n=`__${e}__selector`;Object.defineProperties(t.prototype,{[n]:{writable:!0,enumerable:!1,configurable:!0},state$:{enumerable:!0,configurable:!0,get(){if(!d.a.store)throw new Error(o.b.NGXS_DATA_MODULE_EXCEPTION);return this[n]||(this[n]=d.a.store.select(t).pipe(Object(E.a)(t=>Object(p.V)()?b(t):t),Object(S.a)({refCount:!0,bufferSize:1})))}}})}}e.d(n,"k",(function(){return r})),e.d(n,"e",(function(){return u})),e.d(n,"d",(function(){return a})),e.d(n,"a",(function(){return s})),e.d(n,"i",(function(){return c})),e.d(n,"l",(function(){return b})),e.d(n,"j",(function(){return i.a})),e.d(n,"c",(function(){return d.a})),e.d(n,"b",(function(){return A.a})),e.d(n,"f",(function(){return f})),e.d(n,"g",(function(){return h})),e.d(n,"h",(function(){return N}))},Oa3G:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e("UFJs");function l(t){return t[r.c]}},"U+rF":function(t,n){function e(t){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}))}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="U+rF"},UFJs:function(t,n,e){"use strict";var r=function(t){return t.NGXS_PERSISTENCE_STATE="@Persistence should be add before decorator @State and @StateRepository",t.NGXS_DATA_STATE="@StateRepository should be add before decorator @State",t.NGXS_DATA_STATE_NAME_NOT_FOUND="State name not provided in class",t.NGXS_DATA_MODULE_EXCEPTION="Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!",t.NGXS_DATA_STATE_DECORATOR="You forgot add decorator @StateRepository or initialize state!\n Example: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])",t.NGXS_DATA_STATIC_ACTION="Cannot support static methods with @action",t.NGXS_DATA_ACTION="@action can only decorate a method implementation",t.NGXS_DATA_ACTION_RETURN_TYPE="RECOMMENDATION: If you use asynchronous actions `@action({ async: true })`, the return result type should only be Observable or void instead",t.NGXS_PERSISTENCE_CONTAINER="You forgot provide NGXS_DATA_STORAGE_CONTAINER!!! Example: \n\n@NgModule({\n imports: [ \n   NgxsDataPluginModule.forRoot([\n      NGXS_DATA_STORAGE_EXTENSION,\n      NGXS_DATA_STORAGE_CONTAINER\n   ]) \n ]\n})\nexport class AppModule {} \n\n",t.NGXS_PERSISTENCE_ENGINE="Not declare storage engine in `existingEngine` or not found after injecting by `useClass`",t.NGXS_PERSISTENCE_SERIALIZE="Error occurred while serializing the store value, value not updated.",t.NGXS_PERSISTENCE_DESERIALIZE="Error occurred while deserializing the store value, falling back to empty object.",t.NGXS_DATA_CHILDREN_CONVERT="Child states can only be added to an object",t}({});const l={type:null,cancelUncompleted:!0,async:!1,debounce:200};e.d(n,"a",(function(){return"NEED_SYNC_WITH_STORAGE"})),e.d(n,"c",(function(){return"NGXS_DATA_META"})),e.d(n,"b",(function(){return r})),e.d(n,"d",(function(){return"NGXS_META"})),e.d(n,"e",(function(){return l}))},YA0u:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e("sXi/");e("A0xI");const l=()=>new r.a},lLvT:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));class r{}},oSDt:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e("UFJs"),l=e("Oa3G"),o=e("q6Pm");let u=(()=>{class t{constructor(){t.statesCachedMeta.clear()}static createStateContext(t){return o.a.context.createStateContext(t)}static ensureMappedState(n){if(!o.a.factory||!n)throw new Error(r.b.NGXS_DATA_MODULE_EXCEPTION);const e=(n.name?t.statesCachedMeta.get(n.name):null)||null;if(!e){const e=n.name?o.a.factory.states.find(t=>t.name===n.name):null;return e&&n.name&&t.statesCachedMeta.set(n.name,e),e}return e}static getRepositoryByInstance(t){const n=(t||{}).constructor,e=Object(l.a)(n)||null;if(!e)throw new Error(r.b.NGXS_DATA_STATE_DECORATOR);return e}static createPayload(t,n){const e={},r=Array.from(t);return n.argumentsNames.forEach((t,n)=>{e[t]=r[n]}),e}}return t.statesCachedMeta=new Map,t})()},q6Pm:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("8Y7J"),l=e("e1JD");let o=(()=>{class t{constructor(n,e,o){t.store=n.get(l.h),t.ngZone=n.get(r.y),t.factory=e,t.context=o}}return t.store=null,t.context=null,t.factory=null,t.ngZone=null,t})()},"sXi/":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));class r{constructor(){this.providers=new Set,this.keys=new Map}getProvidedKeys(){return Array.from(this.keys.keys())}}}},[[0,0,6]]]);